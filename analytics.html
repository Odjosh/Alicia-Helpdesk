<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alicia Helpdesk | Reports</title>
    <link rel="stylesheet" href="css/main.css">
    <script type="text/javascript" src="javascript/app.js" defer></script>
</head>
<body>
    <nav id="sidebar">
        <ul>
            <li>
                <img src="../assets/images/alicia_logo.png" height="40px" width="40px">
                <span class="logo">Alicia</span>
                <button onclick=toggleSidebar() id="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M440-240 200-480l240-240 56 56-183 184 183 184-56 56Zm264 0L464-480l240-240 56 56-183 184 183 184-56 56Z"/></svg>
                </button>
            </li>
            <li>
                <a href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="dashboard.html">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/></svg>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <button onclick=toggleSubMenu(this) class="dropdown-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h168q13-36 43.5-58t68.5-22q38 0 68.5 22t43.5 58h168q33 0 56.5 23.5T840-760v268q-19-9-39-15.5t-41-9.5v-243H200v560h242q3 22 9.5 42t15.5 38H200Zm0-120v40-560 243-3 280Zm80-40h163q3-21 9.5-41t14.5-39H280v80Zm0-160h244q32-30 71.5-50t84.5-27v-3H280v80Zm0-160h400v-80H280v80Zm200-190q13 0 21.5-8.5T510-820q0-13-8.5-21.5T480-850q-13 0-21.5 8.5T450-820q0 13 8.5 21.5T480-790ZM720-40q-83 0-141.5-58.5T520-240q0-83 58.5-141.5T720-440q83 0 141.5 58.5T920-240q0 83-58.5 141.5T720-40Zm-20-80h40v-100h100v-40H740v-100h-40v100H600v40h100v100Z"/></svg>
                    <span>Request</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
                </button>
                <ul class="sub-menu">
                    <div>
                        <li><a href="ticket.html">Submit Ticket</a></li>
                        <li><a href="asset.html">Asset Request</a></li>
                        <li><a href="feedback.html">Feedback</a></li>  
                    </div> 
                </ul>
            </li>
            <li>
                <a href="knowledgebase.html">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>                    
                    <span>Knowledgebase</span>
                </a>
            </li>
            <li class="active">
                <a href="analytics.html">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M280-280h80v-200h-80v200Zm320 0h80v-400h-80v400Zm-160 0h80v-120h-80v120Zm0-200h80v-80h-80v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg>                
                    <span>Reports</span>
                </a>   
            </li>
            <li>
                <a href="profile.html">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg>
                    <span>Profile</span>
                </a>
            </li>
        </ul>
    </nav>
    <main>
        <div class="container">
            <h2>Activity Reports</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi, perspiciatis libero! Quam fugiat fuga recusandae saepe suscipit, consequuntur incidunt nemo autem eius provident cumque similique porro nostrum neque, enim at!</p>
        </div>
        <div class="container">
        <div class="grid-container">
            <div class="card">
                <h2>Total Tickets Logged (This Month)</h2>
                <p>120</p>
            </div>
            <div class="card">
                <h2>Resolved Tickets</h2>
                <p>85</p>
            </div>
            <div class="card">
                <h2>Average Resolution Time</h2>
                <p>15 Mins</p>
            </div>
            <div class="card">
                <h2>Open Tickets</h2>
                <p>28</p>
            </div>
            <div class="card">
                <h2>Escalated Tickets</h2>
                <p>5</p>
            </div>
            <div class="card">
                <h2>Feedback Rating</h2>
            <div class="feedback-stars">★★★★☆</div>
            </div>
            <div class="card">
                <h2>Tickets Logged Over Time</h2>
                <canvas id="ticketsOverTime"></canvas>
            </div>
            <div class="card">
                <h2>Tickets by Category</h2>
                <canvas id="categoryChart"></canvas>
            </div>
            <div class="card">
                <h2>Tickets by Priority</h2>
                <canvas id="priorityChart"></canvas>
            </div>
            <div class="card">
                <h2>Tickets by Status</h2>
                <canvas id="statusChart"></canvas>
            </div>
        </div>
        </div>

        <!-- <div class="container">
            <h2>Example Heading</h2>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Repudiandae tenetur ea, aliquam reprehenderit perferendis ipsam nam sed odio corrupti! Reprehenderit doloremque laudantium nulla maiores ipsa dolor itaque. In, aliquid rerum!</p>
        </div>
        <div class="container">
            <h2>Lorem Ipsum</h2>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Repudiandae tenetur ea, aliquam reprehenderit perferendis ipsam nam sed odio corrupti! Reprehenderit doloremque laudantium nulla maiores ipsa dolor itaque. In, aliquid rerum!</p>
        </div> -->
         <script>
    function drawBarChart(id, labels, values) {
      const canvas = document.getElementById(id);
      const ctx = canvas.getContext('2d');
      const max = Math.max(...values);
      const barWidth = canvas.width / labels.length;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      values.forEach((val, i) => {
        const height = (val / max) * canvas.height;
        ctx.fillStyle = '#5e63ff';
        ctx.fillRect(i * barWidth + 10, canvas.height - height, barWidth - 20, height);
        ctx.fillStyle = '#000';
        ctx.fillText(labels[i], i * barWidth + 10, canvas.height - 5);
      });
    }

    function drawLineChart(id, data) {
      const canvas = document.getElementById(id);
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath();
      ctx.strokeStyle = '#5e63ff';

      const stepX = canvas.width / (data.length - 1);
      const maxY = Math.max(...data);

      data.forEach((val, i) => {
        const x = i * stepX;
        const y = canvas.height - (val / maxY) * canvas.height;
        i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
      });

      ctx.stroke();
    }

    function drawPieChart(id, data, colors) {
      const canvas = document.getElementById(id);
      const ctx = canvas.getContext('2d');
      const total = data.reduce((a, b) => a + b, 0);
      let startAngle = 0;

      data.forEach((val, i) => {
        const angle = (val / total) * Math.PI * 2;
        ctx.fillStyle = colors[i];
        ctx.beginPath();
        ctx.moveTo(canvas.width / 2, canvas.height / 2);
        ctx.arc(canvas.width / 2, canvas.height / 2, 80, startAngle, startAngle + angle);
        ctx.fill();
        startAngle += angle;
      });
    }

    // Render charts on load
    window.onload = function () {
      drawLineChart("ticketsOverTime", [15, 25, 22, 30, 35, 28, 40]);
      drawPieChart("categoryChart", [40, 30, 30], ["#5e63ff", "#999", "#ccc"]);
      drawBarChart("priorityChart", ["Low", "Medium", "High"], [20, 40, 30]);
      drawBarChart("statusChart", ["Open", "In Progress", "Resolved", "Escalated"], [10, 20, 40, 5]);
    };
  </script>
    </main>
</body>
</html>